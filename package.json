import { useState, useEffect } from 'react';

export default function Home() {
  const [step, setStep] = useState(1);
  const [role, setRole] = useState('');
  const [location, setLocation] = useState('...');

  // Automatisk geolokasjon (forenklet versjon)
  useEffect(() => {
    fetch("https://ipapi.co/json")
      .then(res => res.json())
      .then(data => setLocation(data.country_name))
      .catch(() => setLocation("Ukjent"));
  }, []);

  const handleRoleChange = (e) => {
    setRole(e.target.value);
    if (e.target.value.length > 2) {
      setTimeout(() => setStep(2), 500); // Neste steg etter 0.5 sek
    }
  };

  return (
    <div style={{ padding: '40px', fontFamily: 'sans-serif' }}>
      <h1>Iben.ai</h1>
      <p style={{ fontSize: '14px', color: '#666' }}>Du er i: <strong>{location}</strong></p>

      {step === 1 && (
        <div>
          <h2>Hva sÃ¸ker du som?</h2>
          <input
            type="text"
            placeholder="F.eks. Dataanalytiker"
            value={role}
            onChange={handleRoleChange}
            style={{ padding: '8px', width: '100%', fontSize: '16px' }}
          />
        </div>
      )}

      {step === 2 && (
        <div>
          <h2>Takk! ğŸš€</h2>
          <p>Iben forbereder neste steg for degâ€¦</p>
        </div>
      )}
    </div>
  );
}
